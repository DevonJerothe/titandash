{% extends "base.html" %}
{% load staticfiles %}

{% block content %}
    <div id="accordion">
        <div class="card">
            <div class="card-header" id="artifacts">
                <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne">Artifacts</button>
                    <button id="exportArtifactsJson" type="button" class="float-right btn btn-primary">Export JSON<span style="margin-left: 8px;" class="fa fa-file-export"></span></button>
                </h5>
            </div>

            <div id="collapseOne" class="collapse show" data-parent="#accordion">
                <div class="card-body">
                   <div id="artifactContent" style="width: 100%;">
                       <div class="row">
                           <div style="width: 50%;" class="col-sm text-center border-right">
                                <small>Total Artifacts</small><br/>
                                <strong id="artifactsTotalValue">{{ artifactsTotalValue }}</strong>
                           </div>
                           <div style="width: 50%;" class="col-sm text-center">
                               <small>Owned</small><br/>
                               <strong id="artifactsOwnedValue">{{ artifactsOwnedValue }}</strong>
                           </div>
                       </div>
                       <hr/>
                       <table id="artifactsTable" class="display table table-sm table-hover table-striped" style="width: 100%; display: none;">
                           <thead>
                               <tr>
                                   <th>Image</th>
                                   <th>Key</th>
                                   <th>Name</th>
                                   <th>Owned</th>
                               </tr>
                           </thead>
                           <tbody>
                                {% for artifact in artifacts %}
                                    <tr>
                                        <td><img height="37" width="37" src="{% static artifact.image %}" alt="{{ artifact.name }}"></td>
                                        <td>{{ artifact.key }}</td>
                                        <td>{{ artifact.title }}</td>
                                        <td>{{ artifact.owned }}</td>
                                    </tr>
                                {% endfor %}
                           </tbody>
                       </table>
                   </div>
                </div>
            </div>
        </div>
    </div>
    <div id="jsonData" data-json="{{ ARTIFACTS_JSON }}" style="display: none;"></div>
{% endblock %}

{% block extra_js %}
    <script src="{% static "js/allArtifacts.js" %}"></script>
{% endblock %}